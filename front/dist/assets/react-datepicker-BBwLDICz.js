import{r as X,n as Y}from"./index-CqonvCgs.js";function Z(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var x=Z(X),G=Y;function H(n,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var e=a[t],s=Object.getOwnPropertyDescriptor(o,e);s&&s.configurable&&n[e]===void 0&&Object.defineProperty(n,e,s)}return n}function B(){return(B=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n}).apply(this,arguments)}function J(n,o){n.prototype=Object.create(o.prototype),H(n.prototype.constructor=n,o)}function K(n,o){if(n==null)return{};var a,t,e={},s=Object.keys(n);for(t=0;t<s.length;t++)a=s[t],0<=o.indexOf(a)||(e[a]=n[a]);return e}function E(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Q=function(n,o,a,t,e,s,p,v){if(!n){var i;if(o===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,t,e,s,p,v],c=0;(i=new Error(o.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw i.framesToPop=1,i}},j=Q;function N(n,o,a){if("selectionStart"in n&&"selectionEnd"in n)n.selectionStart=o,n.selectionEnd=a;else{var t=n.createTextRange();t.collapse(!0),t.moveStart("character",o),t.moveEnd("character",a-o),t.select()}}function $(n){var o=0,a=0;if("selectionStart"in n&&"selectionEnd"in n)o=n.selectionStart,a=n.selectionEnd;else{var t=document.selection.createRange();t.parentElement()===n&&(o=-t.moveStart("character",-n.value.length),a=-t.moveEnd("character",-n.value.length))}return{start:o,end:a,length:a-o}}var ee={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},ne="_";function _(n,o,a){var t="",e="",s=null,p=[];if(o===void 0&&(o=ne),a==null&&(a=ee),!n||typeof n!="string")return{maskChar:o,formatChars:a,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var v=!1;return n.split("").forEach(function(i){v=!v&&i==="\\"||(v||!a[i]?(p.push(t.length),t.length===p.length-1&&(e+=i)):s=t.length+1,t+=i,!1)}),{maskChar:o,formatChars:a,prefix:e,mask:t,lastEditablePosition:s,permanents:p}}function O(n,o){return n.permanents.indexOf(o)!==-1}function F(n,o,a){var t=n.mask,e=n.formatChars;if(!a)return!1;if(O(n,o))return t[o]===a;var s=e[t[o]];return new RegExp(s).test(a)}function q(n,o){return o.split("").every(function(a,t){return O(n,t)||!F(n,t,a)})}function y(n,o){var a=n.maskChar,t=n.prefix;if(!a){for(;o.length>t.length&&O(n,o.length-1);)o=o.slice(0,o.length-1);return o.length}for(var e=t.length,s=o.length;s>=t.length;s--){var p=o[s];if(!O(n,s)&&F(n,s,p)){e=s+1;break}}return e}function z(n,o){return y(n,o)===n.mask.length}function I(n,o){var a=n.maskChar,t=n.mask,e=n.prefix;if(!a){for((o=T(n,"",o,0)).length<e.length&&(o=e);o.length<t.length&&O(n,o.length);)o+=t[o.length];return o}if(o)return T(n,I(n,""),o,0);for(var s=0;s<t.length;s++)O(n,s)?o+=t[s]:o+=a;return o}function te(n,o,a,t){var e=a+t,s=n.maskChar,p=n.mask,v=n.prefix,i=o.split("");if(s)return i.map(function(c,g){return g<a||e<=g?c:O(n,g)?p[g]:s}).join("");for(var l=e;l<i.length;l++)O(n,l)&&(i[l]="");return a=Math.max(v.length,a),i.splice(a,e-a),o=i.join(""),I(n,o)}function T(n,o,a,t){var e=n.mask,s=n.maskChar,p=n.prefix,v=a.split(""),i=z(n,o);return!s&&t>o.length&&(o+=e.slice(o.length,t)),v.every(function(l){for(;k=l,O(n,h=t)&&k!==e[h];){if(t>=o.length&&(o+=e[t]),c=l,g=t,s&&O(n,g)&&c===s)return!0;if(++t>=e.length)return!1}var c,g,h,k;return!F(n,t,l)&&l!==s||(t<o.length?o=s||i||t<p.length?o.slice(0,t)+l+o.slice(t+1):(o=o.slice(0,t)+l+o.slice(t),I(n,o)):s||(o+=l),++t<e.length)}),o}function oe(n,o,a,t){var e=n.mask,s=n.maskChar,p=a.split(""),v=t;return p.every(function(i){for(;c=i,O(n,l=t)&&c!==e[l];)if(++t>=e.length)return!1;var l,c;return(F(n,t,i)||i===s)&&t++,t<e.length}),t-v}function ae(n,o){for(var a=o;0<=a;--a)if(!O(n,a))return a;return null}function P(n,o){for(var a=n.mask,t=o;t<a.length;++t)if(!O(n,t))return t;return null}function R(n){return n||n===0?n+"":""}function re(n,o,a,t,e){var s=n.mask,p=n.prefix,v=n.lastEditablePosition,i=o,l="",c=0,g=0,h=Math.min(e.start,a.start);return a.end>e.start?g=(c=oe(n,t,l=i.slice(e.start,a.end),h))?e.length:0:i.length<t.length&&(g=t.length-i.length),i=t,g&&(g===1&&!e.length&&(h=e.start===a.start?P(n,a.start):ae(n,a.start)),i=te(n,i,h,g)),i=T(n,i,l,h),(h+=c)>=s.length?h=s.length:h<p.length&&!c?h=p.length:h>=p.length&&h<v&&c&&(h=P(n,h)),l||(l=null),{value:i=I(n,i),enteredString:l,selection:{start:h,end:h}}}function se(){var n=new RegExp("windows","i"),o=new RegExp("phone","i"),a=navigator.userAgent;return n.test(a)&&o.test(a)}function S(n){return typeof n=="function"}function ie(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function W(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function U(n){return(W()?ie():function(){return setTimeout(n,1e3/60)})(n)}function A(n){(W()||clearTimeout)(n)}(function(n){function o(t){var e=n.call(this,t)||this;e.focused=!1,e.mounted=!1,e.previousSelection=null,e.selectionDeferId=null,e.saveSelectionLoopDeferId=null,e.saveSelectionLoop=function(){e.previousSelection=e.getSelection(),e.saveSelectionLoopDeferId=U(e.saveSelectionLoop)},e.runSaveSelectionLoop=function(){e.saveSelectionLoopDeferId===null&&e.saveSelectionLoop()},e.stopSaveSelectionLoop=function(){e.saveSelectionLoopDeferId!==null&&(A(e.saveSelectionLoopDeferId),e.saveSelectionLoopDeferId=null,e.previousSelection=null)},e.getInputDOMNode=function(){if(!e.mounted)return null;var r=G.findDOMNode(E(E(e))),u=typeof window<"u"&&r instanceof window.Element;if(r&&!u)return null;if(r.nodeName!=="INPUT"&&(r=r.querySelector("input")),!r)throw new Error("react-input-mask: inputComponent doesn't contain input node");return r},e.getInputValue=function(){var r=e.getInputDOMNode();return r?r.value:null},e.setInputValue=function(r){var u=e.getInputDOMNode();u&&(e.value=r,u.value=r)},e.setCursorToEnd=function(){var r=y(e.maskOptions,e.value),u=P(e.maskOptions,r);u!==null&&e.setCursorPosition(u)},e.setSelection=function(r,u,m){m===void 0&&(m={});var f=e.getInputDOMNode(),d=e.isFocused();f&&d&&(m.deferred||N(f,r,u),e.selectionDeferId!==null&&A(e.selectionDeferId),e.selectionDeferId=U(function(){e.selectionDeferId=null,N(f,r,u)}),e.previousSelection={start:r,end:u,length:Math.abs(u-r)})},e.getSelection=function(){return $(e.getInputDOMNode())},e.getCursorPosition=function(){return e.getSelection().start},e.setCursorPosition=function(r){e.setSelection(r,r)},e.isFocused=function(){return e.focused},e.getBeforeMaskedValueChangeConfig=function(){var r=e.maskOptions,u=r.mask,m=r.maskChar,f=r.permanents,d=r.formatChars;return{mask:u,maskChar:m,permanents:f,alwaysShowMask:!!e.props.alwaysShowMask,formatChars:d}},e.isInputAutofilled=function(r,u,m,f){var d=e.getInputDOMNode();try{if(d.matches(":-webkit-autofill"))return!0}catch{}return!e.focused||f.end<m.length&&u.end===r.length},e.onChange=function(r){var u=E(E(e)).beforePasteState,m=E(E(e)).previousSelection,f=e.props.beforeMaskedValueChange,d=e.getInputValue(),w=e.value,C=e.getSelection();e.isInputAutofilled(d,C,w,m)&&(w=I(e.maskOptions,""),m={start:0,end:0,length:0}),u&&(m=u.selection,w=u.value,C={start:m.start+d.length,end:m.start+d.length,length:0},d=w.slice(0,m.start)+d+w.slice(m.end),e.beforePasteState=null);var D=re(e.maskOptions,d,C,w,m),L=D.enteredString,M=D.selection,b=D.value;if(S(f)){var V=f({value:b,selection:M},{value:w,selection:m},L,e.getBeforeMaskedValueChangeConfig());b=V.value,M=V.selection}e.setInputValue(b),S(e.props.onChange)&&e.props.onChange(r),e.isWindowsPhoneBrowser?e.setSelection(M.start,M.end,{deferred:!0}):e.setSelection(M.start,M.end)},e.onFocus=function(r){var u=e.props.beforeMaskedValueChange,m=e.maskOptions,f=m.mask,d=m.prefix;if(e.focused=!0,e.mounted=!0,f){if(e.value)y(e.maskOptions,e.value)<e.maskOptions.mask.length&&e.setCursorToEnd();else{var w=I(e.maskOptions,d),C=I(e.maskOptions,w),D=y(e.maskOptions,C),L=P(e.maskOptions,D),M={start:L,end:L};if(S(u)){var b=u({value:C,selection:M},{value:e.value,selection:null},null,e.getBeforeMaskedValueChangeConfig());C=b.value,M=b.selection}var V=C!==e.getInputValue();V&&e.setInputValue(C),V&&S(e.props.onChange)&&e.props.onChange(r),e.setSelection(M.start,M.end)}e.runSaveSelectionLoop()}S(e.props.onFocus)&&e.props.onFocus(r)},e.onBlur=function(r){var u=e.props.beforeMaskedValueChange,m=e.maskOptions.mask;if(e.stopSaveSelectionLoop(),e.focused=!1,m&&!e.props.alwaysShowMask&&q(e.maskOptions,e.value)){var f="";S(u)&&(f=u({value:f,selection:null},{value:e.value,selection:e.previousSelection},null,e.getBeforeMaskedValueChangeConfig()).value);var d=f!==e.getInputValue();d&&e.setInputValue(f),d&&S(e.props.onChange)&&e.props.onChange(r)}S(e.props.onBlur)&&e.props.onBlur(r)},e.onMouseDown=function(r){if(!e.focused&&document.addEventListener){e.mouseDownX=r.clientX,e.mouseDownY=r.clientY,e.mouseDownTime=new Date().getTime();var u=function m(f){if(document.removeEventListener("mouseup",m),e.focused){var d=Math.abs(f.clientX-e.mouseDownX),w=Math.abs(f.clientY-e.mouseDownY),C=Math.max(d,w),D=new Date().getTime()-e.mouseDownTime;(C<=10&&D<=200||C<=5&&D<=300)&&e.setCursorToEnd()}};document.addEventListener("mouseup",u)}S(e.props.onMouseDown)&&e.props.onMouseDown(r)},e.onPaste=function(r){S(e.props.onPaste)&&e.props.onPaste(r),r.defaultPrevented||(e.beforePasteState={value:e.getInputValue(),selection:e.getSelection()},e.setInputValue(""))},e.handleRef=function(r){e.props.children==null&&S(e.props.inputRef)&&e.props.inputRef(r)};var s=t.mask,p=t.maskChar,v=t.formatChars,i=t.alwaysShowMask,l=t.beforeMaskedValueChange,c=t.defaultValue,g=t.value;e.maskOptions=_(s,p,v),c==null&&(c=""),g==null&&(g=c);var h=R(g);if(e.maskOptions.mask&&(i||h)&&(h=I(e.maskOptions,h),S(l))){var k=t.value;t.value==null&&(k=c),h=l({value:h,selection:null},{value:k=R(k),selection:null},null,e.getBeforeMaskedValueChangeConfig()).value}return e.value=h,e}J(o,n);var a=o.prototype;return a.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=se(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},a.componentDidUpdate=function(){var t=this.previousSelection,e=this.props,s=e.beforeMaskedValueChange,p=e.alwaysShowMask,v=e.mask,i=e.maskChar,l=e.formatChars,c=this.maskOptions,g=p||this.isFocused(),h=this.props.value!=null,k=h?R(this.props.value):this.value,r=t?t.start:null;if(this.maskOptions=_(v,i,l),this.maskOptions.mask){!c.mask&&this.isFocused()&&this.runSaveSelectionLoop();var u=this.maskOptions.mask&&this.maskOptions.mask!==c.mask;if(c.mask||h||(k=this.getInputValue()),(u||this.maskOptions.mask&&(k||g))&&(k=I(this.maskOptions,k)),u){var m=y(this.maskOptions,k);(r===null||m<r)&&(r=z(this.maskOptions,k)?m:P(this.maskOptions,m))}!this.maskOptions.mask||!q(this.maskOptions,k)||g||h&&this.props.value||(k="");var f={start:r,end:r};if(S(s)){var d=s({value:k,selection:f},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());k=d.value,f=d.selection}this.value=k;var w=this.getInputValue()!==this.value;w?(this.setInputValue(this.value),this.forceUpdate()):u&&this.forceUpdate();var C=!1;f.start!=null&&f.end!=null&&(C=!t||t.start!==f.start||t.end!==f.end),(C||w)&&this.setSelection(f.start,f.end)}else c.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},a.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&A(this.selectionDeferId),this.stopSaveSelectionLoop()},a.render=function(){var t,e=this.props,s=(e.mask,e.alwaysShowMask,e.maskChar,e.formatChars,e.inputRef,e.beforeMaskedValueChange,e.children),p=K(e,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(s){S(s)||j(!1);var v=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],i=B({},p);v.forEach(function(c){return delete i[c]}),t=s(i),v.filter(function(c){return t.props[c]!=null&&t.props[c]!==p[c]}).length&&j(!1)}else t=x.createElement("input",B({ref:this.handleRef},p));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(p.disabled||p.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),p.value!=null&&(l.value=this.value)),t=x.cloneElement(t,l)},o})(x.Component);
