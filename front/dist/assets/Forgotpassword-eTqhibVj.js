import{u as j,a as p,j as e,R as b,N as n,C as o,B as f,b as m}from"./index-CqonvCgs.js";import{c as N,a as y,l as v,F as S,b as w,A as I}from"./index-Dtd34VlA.js";import{l as k}from"./logo-BPvrImub.js";import{I as C}from"./index-Bxww9KtO.js";import{R as c,C as i}from"./Row-kCx33sI5.js";import{F as d,a as F}from"./Form-BsIrG47u.js";import"./CloseButton-CRqNhKfH.js";import"./setPrototypeOf-DgZC2w_0.js";const V=()=>{const h=j();p();const x=N().shape({email:y().email("Must be a valid email").required("Email is required")}),u=async(s,{setSubmitting:l,setErrors:r})=>{console.log(s);try{const a=await fetch("http://localhost:5000/api/auth/forgot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await a.json();a.ok==!0?(console.log(a.ok),localStorage.setItem("foremail",t.email),m.success("Email Verified Successfully"),setTimeout(()=>{h("/auth/signin")},2e3)):m.error(t.extraDetails?t.extraDetails:t.message)}catch{r({submit:"Server error. Please try again later."})}l(!1)};return e.jsx(b.Fragment,{children:e.jsx("div",{className:"auth-wrapper",children:e.jsxs(c,{className:"auth-row",children:[e.jsxs(i,{sm:6,className:"image p-0",children:[e.jsx("img",{src:v,alt:""}),e.jsx("div",{className:"copyright_form",children:e.jsxs("p",{children:["Copyright Â© ",new Date().getFullYear()," Dev Panel. All Rights Reserved. Powered By:"," ",e.jsx(n,{to:"https://www.digihost.in/",targe:"_blank",children:"DigiHost Tech Solutions Pvt. Ltd."})]})})]}),e.jsx(i,{sm:6,className:"p-0",children:e.jsx("div",{className:"auth-content",children:e.jsx(o,{className:"borderless d-flex align-items-center justify-content-center",children:e.jsxs(o.Body,{className:"",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:k,alt:""})}),e.jsx("h5",{className:"mt-1",children:"Welcome Back !"}),e.jsx("p",{children:"Sign in to continue to DiigiiHost."})]}),e.jsx(S,{initialValues:{email:""},validationSchema:x,onSubmit:u,children:({errors:s,handleBlur:l,handleChange:r,handleSubmit:a,isSubmitting:t,touched:g})=>e.jsxs("form",{noValidate:!0,onSubmit:a,children:[e.jsxs(d.Group,{className:"mb-3",controlId:"email",children:[e.jsx(F,{controlId:"floatingInput",label:"Enter Email",className:"mb-3",children:e.jsx(d.Control,{type:"email",placeholder:"Enter Email",onBlur:l,onChange:r,name:"email"})}),g.email&&s.email&&e.jsxs("small",{className:"text-danger form-text d-flex justify-content-start align-items-center gap-1",children:[e.jsx(w,{}),s.email]})]}),s.submit&&e.jsx(i,{sm:12,children:e.jsx(I,{children:s.submit})}),e.jsxs(c,{className:"mt-4",children:[e.jsx(i,{sm:12,mt:2,className:"",children:e.jsx(f,{className:"btn-block mb-4",color:"primary",disabled:t,size:"large",type:"submit",variant:"primary",children:"Submit"})}),e.jsx(i,{sm:12,mt:2,className:"mt-3",children:e.jsx("span",{className:"mb-2 text-muted forgot",children:e.jsxs(n,{to:"/auth/signin",className:"text-muted",children:[e.jsx(C,{})," Don't have an account ? Log In"]})})})]})]})})]})})})})]})})})};export{V as default};
